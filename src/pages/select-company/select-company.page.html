<ion-toolbar>
  <ion-buttons slot="start">
    <ion-menu-button></ion-menu-button>
  </ion-buttons>

  <ng-container *ngIf="!searching; else searchBar">
    <ion-title *ngIf="!searching">ESTABELECIMENTOS</ion-title>
    <ion-buttons slot="end">
      <ion-button fill="clear" (click)="toggleSearch()">
        <ion-icon slot="icon-only" name="search-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ng-container>

  <ng-template #searchBar>
    <ion-searchbar
      [(ngModel)]="searchQuery"
      (ionInput)="onSearch($event)"
      placeholder="Filtrar"
      (ionCancel)="toggleSearch()"
      clear-input="false"
      [showClearButton]="false"
    >
    </ion-searchbar>
    <ion-buttons slot="end">
      <ion-button (click)="toggleSearch()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ng-template>
</ion-toolbar>

<div class="horizontal-scroll" *ngIf="categories?.length">
  <div
    class="service-type-card"
    *ngFor="let category of categories"
    (click)="selectService(categories)"
  >
    <img [src]="category.imgPath" alt="{{ category.name }}" />
    <h2>{{ category.name }}</h2>
  </div>
</div>

<ion-content fullscreen="true">
  <div class="cards-companies container">
    <ion-card
    class="box full-card"
    *ngFor="let card of filteredCards"
    (click)="selectCard(card)"
  >
    <ion-icon
      name="{{ card.liked ? 'heart' : 'heart-outline' }}"
      class="like-icon"
      (click)="toggleLike(card, $event)"
    ></ion-icon>
  
    <ion-card-content>
      <div class="inner-card">
        <div class="logo-container">
          <img [src]="card.img" alt="{{ card.name }} logo" class="company-logo" />
        </div>
        <div class="company-info">
          <h2>{{ card.name }}</h2>
          <p>{{ card.type }}</p>
          <p>{{ card.queue }}</p>
          <ion-chip color="success" class="ratting-area">
            <ion-icon name="star"></ion-icon>
            4.8 (963 avaliações)
          </ion-chip>
        </div>
      </div>
    </ion-card-content>
  </ion-card>
  
  </div>
</ion-content>

<app-footer-menu></app-footer-menu>