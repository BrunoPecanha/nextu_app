<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <div class="go-back">
        <a routerLink="/select-professional">
          <img
            src="assets/images/create-account/icon-go-back.svg"
            alt="Voltar para tela de seleção usuario"
          />
        </a>
      </div>
    </ion-buttons>
    <ion-title>Seleção dos Serviços</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon slot="icon-only" name="search-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form>
    <div class="scrollable-content">
      <div *ngFor="let service of services; let i = index">
        <ion-item>
          <ion-label position="floating">Selecione o próximo serviço:</ion-label>
          <ion-select
            [placeholder]="'Selecione um serviço'"
            (ionChange)="onServiceChange(i, $event)"
            [disabled]="service.value !== null"
          >
            <ion-select-option
              *ngFor="let option of serviceOptions"
              [value]="option.id"
            >
              {{ option.desc }}
            </ion-select-option>
          </ion-select>
          <ion-button
            *ngIf="services.length > 0"
            slot="end"
            color="danger"
            fill="clear"
            (click)="removeService(i)"
            [disabled]="service.value === null" 
          >
            <ion-icon name="trash-outline"></ion-icon>
          </ion-button>
        </ion-item>
      </div>

      <ion-item>
        <ion-label position="floating">Observação</ion-label>
        <ion-textarea placeholder="Observação"></ion-textarea>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Valor total:</ion-label>
        <ion-textarea [value]="totalPriceString" readonly></ion-textarea>
      </ion-item>

      <ion-item>
        <ion-label position="floating" class="payment">Forma de Pagamento</ion-label>
        <ion-select placeholder="Selecione a forma de pagamento">
          <ion-select-option value="cash">Dinheiro</ion-select-option>
          <ion-select-option value="pix">PIX</ion-select-option>
          <ion-select-option value="card">Cartão</ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Tempo Total (estimado):</ion-label>
        <ion-textarea [value]="totalTimeString" readonly></ion-textarea>
      </ion-item>
    </div>
    <ion-button expand="full" routerLink="enter-fila">Entrar na Fila</ion-button>
  </form>

  <ion-footer>
    <ion-toolbar class="menu-fixed-bottom">
      <div class="content-menu-border">
        <div class="go-init">
          <ion-icon name="home-outline"></ion-icon>
          <ion-label><a routerLink="/role-registration">Inicio</a></ion-label>
        </div>
        <div class="go-fila">
          <ion-icon name="people-outline"></ion-icon>
          <ion-label><a href="#">Fila</a></ion-label>
        </div>
        <div class="go-config">
          <ion-icon name="settings-outline"></ion-icon>
          <ion-label><a href="#">Config</a></ion-label>
        </div>
        <div class="go-config">
          <ion-icon name="exit-outline"></ion-icon>
          <ion-label><a href="#">Sair</a></ion-label>
        </div>
      </div>
    </ion-toolbar>
  </ion-footer>
</ion-content>
